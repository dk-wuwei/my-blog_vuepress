---
date: 2021-11-11
title: JavaScriptæ—¥å¸¸å¼€å‘ä¸­å¸¸ç”¨çš„Objectå±æ€§ã€æ“ä½œæ–¹æ³•
vssue-title: JavaScriptæ—¥å¸¸å¼€å‘ä¸­å¸¸ç”¨çš„Objectå±æ€§ã€æ“ä½œæ–¹æ³•
category: å‰ç«¯
tags:
  - JavaScript
---

å›é¡¾æ€»ç»“ä¸€ä¸‹æ—¥å¸¸å¼€å‘ä¸­å¸¸ç”¨çš„Objectå±æ€§ã€æ“ä½œæ–¹æ³•

<!-- more -->

æœ¬æ–‡å†…å®¹ï¼š

1. ä»‹ç»å¯¹è±¡çš„ä¸¤ç§ç±»å‹
2. åˆ›å»ºå¯¹è±¡å¹¶æ·»åŠ å±æ€§
3. è®¿é—®å¯¹è±¡å±æ€§
4. åˆ é™¤å¯¹è±¡å±æ€§
5. ä½œä¸ºå‡½æ•°å‚æ•°
6. æšä¸¾å¯¹è±¡çš„å±æ€§
7. æ•°æ®ç±»å‹æ£€æµ‹
8. Objectå¸¸ç”¨çš„API

## ä¸€ã€JavaScriptå¯¹è±¡æœ‰ä¸¤ç§ç±»å‹

> 1. Nativeï¼šåœ¨ECMAScriptæ ‡å‡†ä¸­å®šä¹‰å’Œæè¿°ï¼ŒåŒ…æ‹¬JavaScriptå†…ç½®å¯¹è±¡ï¼ˆæ•°ç»„ï¼Œæ—¥æœŸå¯¹è±¡ç­‰ï¼‰å’Œç”¨æˆ·è‡ªå®šä¹‰å¯¹è±¡ï¼›
> 2. Hostï¼šåœ¨ä¸»æœºç¯å¢ƒï¼ˆå¦‚æµè§ˆå™¨ï¼‰ä¸­å®ç°å¹¶æä¾›ç»™å¼€å‘è€…ä½¿ç”¨ï¼Œæ¯”å¦‚Windowså¯¹è±¡å’Œæ‰€æœ‰çš„DOMå¯¹è±¡ï¼›

## äºŒã€åˆ›å»ºå¯¹è±¡å¹¶æ·»åŠ æˆå‘˜

æœ€ç®€å•çš„æ–¹æ³•ï¼ˆå³Object Literalï¼Œå¯¹è±¡å­—é¢å˜é‡ï¼‰ï¼Œä¹‹åä¾¿å¯ä»¥å‘å®ƒæ·»åŠ å±æ€§ã€‚

å­—é¢é‡ï¼š*å­—é¢é‡è¡¨ç¤ºå¦‚ä½•è¡¨è¾¾è¿™ä¸ªå€¼ï¼Œä¸€èˆ¬é™¤å»è¡¨è¾¾å¼ï¼Œç»™å˜é‡èµ‹å€¼æ—¶ï¼Œç­‰å·å³è¾¹éƒ½å¯ä»¥è®¤ä¸ºæ˜¯å­—é¢é‡ã€‚*

```js
// 1. åˆ›å»ºç©ºå¯¹è±¡åï¼Œåœ¨æ·»åŠ å±æ€§
const obj = { }
obj.uname = 'dengke'
obj.fn = () => {
    console.log('ggg')
}
console.log(obj) // { uname: 'dengke', fn: Æ’ }

// 2. åˆ›å»ºå¯¹è±¡å¹¶ä¸”ç›´æ¥æ·»åŠ å±æ€§ (å¸¸ç”¨)
const obj1 = {
    unameï¼š'dengke',
    fn: () => {
        console.log('ggg')
    }
}
console.log(obj1) // { uname: "dengke", fn: Æ’ }
```
**è¡¥å……**

- æ‰©å±•è¿ç®—ç¬¦ï¼ˆspreadï¼‰æ˜¯ä¸‰ä¸ªç‚¹ï¼ˆ...ï¼‰ä¹Ÿå¯ä»¥åˆ›å»ºå¯¹è±¡ï¼ˆè¿”å›ä¸€ä¸ªæ–°å¯¹è±¡ï¼‰ï¼Œæ³¨æ„è¿™æ˜¯ä¸€ä¸ª**æµ…æ‹·è´**

```js
const obj = { name: 'dengke' }
const obj1 = { 
    age: 18,
    temp: {
        a: 10
    }
}

const obj2 = { ...obj, ...obj1 }
console.log(obj2) // { name: 'dengke', age: 18, temp: { a: 10 } }

obj2.temp.a = 20
console.log(obj2) // { name: 'dengke', age: 18, temp: { a: 20 } }
console.log(obj1) // { name: 'dengke', age: 18, temp: { a: 20 } }
```

## ä¸‰ã€è®¿é—®å¯¹è±¡å±æ€§

```js
const obj = {
    info: 'wakaka',
    inner: {
        a: 10,
        b: 20
    },
    arr: [1, 2],
    sayHi: (name) => {
        console.log(`hi,${name}`)
    }
}

// ç”¨ dot(ç‚¹ .) çš„æ–¹å¼è®¿é—®
console.log(obj.info) // wakaka
console.log(obj.inner) // {"a":10,"b":20}
console.log(obj.arr) // [1,2]
obj.sayHi('dengke') // hi,dengke

// ç”¨ [] çš„æ–¹å¼è®¿é—®
console.log(obj['info']) // wakaka
console.log(obj['inner']) // {"a":10,"b":20}
console.log(obj['arr']) // [1,2]
obj['sayHi']('dengke') // hi,dengke
```
**è¡¥å……**

- å¦‚æœè¦è®¿é—®çš„å¯¹è±¡ä¸å­˜åœ¨ï¼Œå¯ä»¥ä½¿ç”¨ é€»è¾‘è¿ç®—ç¬¦ || æŒ‡å®šé»˜è®¤å€¼

> åªè¦â€œ||â€å‰é¢ä¸ºfalse,ä¸ç®¡â€œ||â€åé¢æ˜¯trueè¿˜æ˜¯falseï¼Œéƒ½è¿”å›â€œ||â€åé¢çš„å€¼ã€‚
> 
> åªè¦â€œ||â€å‰é¢ä¸ºtrue,ä¸ç®¡â€œ||â€åé¢æ˜¯trueè¿˜æ˜¯falseï¼Œéƒ½è¿”å›â€œ||â€å‰é¢çš„å€¼ã€‚

```js
console.log(obj.age || 18) // 18
```
- å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬æƒ³æ ¹æ®è¿™ä¸ªå€¼æ˜¯å¦ä¸ºç©ºæ¥åšæ¥ä¸‹æ¥çš„æ“ä½œï¼Œå¯ä»¥ä½¿ç”¨ç©ºå€¼è¿ç®—ç¬¦ (??) **ï¼ˆes11ï¼‰**

> æœ‰ä¸€ä¸ªå†·é—¨è¿ç®—ç¬¦??å¯ä»¥åˆ¤æ–­undefinedå’Œnullï¼Œè¿™æ ·æ˜¯æ¯”è¾ƒç¬¦åˆæ™®ééœ€æ±‚çš„ã€‚

```js
const age = 0 
const a = age ?? 123 
console.log(a) // 0
```

- å¯é€‰é“¾å¼æ“ä½œç¬¦ï¼ˆ?.ï¼‰ **ï¼ˆes11ï¼‰**

> è¿™æ˜¯å½“å¯¹è±¡ä¸Šæ²¡æœ‰è¿™ä¸ªé”®çš„æ—¶å€™ï¼Œä¸ä¼šæŠ¥é”™ï¼Œè€Œæ˜¯èµ‹å€¼undefined

```js
const foo = { name: "zengbo" } 
let a = foo.name?.toUpperCase() // "ZENGBO" 
let b = foo.name?.firstName?.toUpperCase() // "undefined"
```
## å››ã€åˆ é™¤å¯¹è±¡å±æ€§

1. åˆ©ç”¨å…³é”®å­— `delete`

```js
const o = {
    p: 10,
    m: 20
}

delete o.p
console.log(o) // { m: 20 }
// åˆ é™¤å¯¹è±¡çš„å±æ€§åï¼Œåœ¨è®¿é—®è¿”å› undefined
console.log(o.p) // undefined
```

## äº”ã€ä½œä¸ºå‡½æ•°å‚æ•°

```js
const displayPerson = (person) => {
    console.log(`name: ${person.name || 'æ— åæ°'}`)
     console.log(`age: ${person['age'] || 0}`)
}

displayPerson({ name: 'dengke', age: 18 })
// name: dengke
// age: 18

displayPerson({ })
// name: æ— åæ°
// age: 0
```

## å…­ã€æšä¸¾å¯¹è±¡çš„å±æ€§

åœ¨JSé‡Œé¢æšä¸¾å¯¹è±¡å±æ€§ä¸€å…±æœ‰ä¸‰ç§æ–¹æ³•ï¼š

1. for in: ä¼šéå†å¯¹è±¡ä¸­æ‰€æœ‰çš„å¯æšä¸¾å±æ€§ï¼ˆåŒ…æ‹¬è‡ªæœ‰å±æ€§å’Œç»§æ‰¿å±æ€§ï¼‰
2. Object.keys(): ä¼šè¿”å›ä¸€ä¸ªåŒ…æ‹¬æ‰€æœ‰çš„å¯æšä¸¾çš„è‡ªæœ‰å±æ€§çš„åç§°ç»„æˆçš„æ•°ç»„
3. Object.getOwnPropertyNames(): ä¼šè¿”å›è‡ªæœ‰å±æ€§çš„åç§° ï¼ˆä¸ç®¡æ˜¯ä¸æ˜¯å¯æšä¸¾çš„ï¼‰

**1. `for...in`** ä¼šéå†å¯¹è±¡ä¸­**æ‰€æœ‰çš„å¯æšä¸¾å±æ€§**ï¼ˆåŒ…æ‹¬è‡ªæœ‰å±æ€§å’Œç»§æ‰¿å±æ€§ï¼‰
```js
const obj = {
    itemA: 'itemA',
    itemB: 'itemB'
}

// ä½¿ç”¨Object.createåˆ›å»ºä¸€ä¸ªåŸå‹ä¸ºobjçš„å¯¹è±¡ ï¼ˆæ¨¡æ‹Ÿç»§æ‰¿æ¥çš„å±æ€§ï¼‰
var newObj = Object.create(obj) 

newObj.newItemA = 'newItemA'
newObj.newItemB = 'newItemB'

for(i in newObj){
    console.log(i)
}
// newItemA
// newItemB
// itemA
// itemB

// ç°åœ¨æˆ‘ä»¬å°†å…¶ä¸­çš„ä¸€ä¸ªå±æ€§å˜ä¸ºä¸å¯æšä¸¾å±æ€§
Object.defineProperty(newObj, 'newItemA', {
    enumerable: false
})

for(i in newObj){
    console.log(i)
}
// newItemB
// itemA
// itemB
```

> **è¡¥å……**
> 
> å¦‚æœä¸æƒ³è®©`for...in`æšä¸¾ç»§æ‰¿æ¥çš„å±æ€§å¯ä»¥å€ŸåŠ©`Object.prototype.hasOwnProperty()`
> 
> ```js
> // æ¥ä¸Šä¾‹
> for(i in newObj){
>     if( newObj.hasOwnProperty(i) ) console.log(i)
> }
> // newItemB
> ```
> 
**`Object.prototype.hasOwnProperty()`è¯¥æ–¹æ³•åœ¨ä¸‹æ–‡æœ‰æ›´å…·ä½“çš„ä»‹ç»**

**2. `Object.keys()`**: ä¼šè¿”å›ä¸€ä¸ªåŒ…æ‹¬æ‰€æœ‰çš„å¯æšä¸¾çš„**è‡ªæœ‰å±æ€§**çš„åç§°ç»„æˆçš„æ•°ç»„

```js
// æ¥ä¸Šä¾‹
const result = Object.keys(newObj)

console.log(result) // ["newItemB"]
```

**`Object.keys()`è¯¥æ–¹æ³•åœ¨ä¸‹æ–‡æœ‰æ›´å…·ä½“çš„ä»‹ç»**

**3. `Object.getOwnPropertyNames()`** ä¼šè¿”å›è‡ªæœ‰å±æ€§çš„åç§° ï¼ˆä¸ç®¡æ˜¯ä¸æ˜¯å¯æšä¸¾çš„ï¼‰

```js
// æ¥ä¸Šä¾‹
const result = Object.keys(newObj)

console.log(result) // ['newItemA','newItemB']
```

**`Object.getOwnPropertyNames()`è¯¥æ–¹æ³•åœ¨ä¸‹æ–‡æœ‰æ›´å…·ä½“çš„ä»‹ç»**

## ä¸ƒã€æ•°æ®ç±»å‹æ£€æµ‹

- **`typeof` å¸¸ç”¨** å¤šç”¨äºåŸå§‹æ•°æ®ç±»å‹çš„åˆ¤æ–­

```js
const fn = function(n){
  console.log(n)
}
const str = 'string'
const arr = [1,2,3]
const obj = {
   a:123,
   b:456
}
const num = 1
const b = true
const n = null     
const u = undefined

console.log(typeof str) // string
console.log(typeof arr) // object
console.log(typeof obj) // object
console.log(typeof num) // number
console.log(typeof b) // boolean
console.log(typeof n) // object nullæ˜¯ä¸€ä¸ªç©ºçš„å¯¹è±¡
console.log(typeof u) // undefined
console.log(typeof fn) // function
```
**é€šè¿‡ä¸Šé¢çš„æ£€æµ‹æˆ‘ä»¬å‘ç°typeofæ£€æµ‹çš„Arrayå’ŒObjectçš„è¿”å›ç±»å‹éƒ½æ˜¯Objectï¼Œå› æ­¤ç”¨typeofæ˜¯æ— æ³•æ£€æµ‹å‡ºæ¥æ•°ç»„å’Œå¯¹è±¡çš„ã€‚**

- **`tostring` å¸¸ç”¨** æœ€å®ç”¨çš„æ£€æµ‹å„ç§ç±»å‹
æˆ‘ä»¬ç»å¸¸ä¼šæŠŠè¿™ä¸ªå°è£…æˆä¸€ä¸ªå‡½æ•°ï¼Œä½¿ç”¨èµ·æ¥æ›´åŠ æ–¹ä¾¿
```js
/**
* @description: æ•°æ®ç±»å‹çš„æ£€æµ‹
* @param {any} data è¦æ£€æµ‹æ•°æ®ç±»å‹çš„å˜é‡
* @return {string} type è¿”å›å…·ä½“çš„ç±»å‹åç§°ã€å°å†™ã€‘
*/
const isTypeOf = (data) => {
    return Object.prototype.toString.call(data).replace(/\[object (\w+)\]/, '$1').toLowerCase()
}

console.log(isTypeOf({})) // object
console.log(isTypeOf([])) // array
console.log(isTypeOf("ss")) // string
console.log(isTypeOf(1)) // number
console.log(isTypeOf(false)) // boolean
console.log(isTypeOf(/w+/)) // regexp
console.log(isTypeOf(null)) // null
console.log(isTypeOf(undefined)) // undefined
console.log(isTypeOf(Symbol("id"))) // symbol
console.log(isTypeOf(() => { })) // function
```
 
## å…«ã€Objectå¸¸ç”¨çš„API

### 1. Object.assign()

**`Object.assign()`** æ–¹æ³•ç”¨äºå°†æ‰€æœ‰å¯æšä¸¾å±æ€§çš„å€¼ä»ä¸€ä¸ªæˆ–å¤šä¸ªæºå¯¹è±¡åˆ†é…åˆ°ç›®æ ‡å¯¹è±¡ã€‚å®ƒå°†è¿”å›ç›®æ ‡å¯¹è±¡ã€‚å¸¸ç”¨æ¥åˆå¹¶å¯¹è±¡ã€‚

```js
const obj1 = { a: 1, b: 2 }
const obj2 = { b: 4, c: 5 }

const obj3 = Object.assign(obj1, obj2)

const obj4 = Object.assign({}, obj1) // å…‹éš†äº†obj1å¯¹è±¡

console.log(obj1) // { a: 1, b: 4, c: 5 } å¯¹åŒåå±æ€§bè¿›è¡Œäº†æ›¿æ¢ obj1å‘ç”Ÿæ”¹å˜æ˜¯å› ä¸ºobj2èµ‹ç»™äº†obj1

console.log(obj2) // { b: 4, c: 5 }

console.log(obj3) // { a: 1, b: 4, c: 5 }

console.log(obj4) // { a: 1, b: 4, c: 5 }

```
**è¯­æ³•**

```js
Object.assign(target, ...sources)
```

- å‚æ•°ï¼š`target` ç›®æ ‡å‚æ•°ï¼Œ`sources`æºå¯¹è±¡

- è¿”å›å€¼ï¼šç›®æ ‡å¯¹è±¡

**æ³¨æ„**

- å¦‚æœç›®æ ‡å¯¹è±¡ä¸­çš„å±æ€§å…·æœ‰ç›¸åŒçš„é”®ï¼Œåˆ™å±æ€§å°†è¢«æºå¯¹è±¡ä¸­çš„å±æ€§è¦†ç›–ã€‚

- `Object.assign`Â æ–¹æ³•åªä¼šæ‹·è´æºå¯¹è±¡è‡ªèº«çš„å¹¶ä¸”å¯æšä¸¾çš„å±æ€§åˆ°ç›®æ ‡å¯¹è±¡ã€‚

- **assignå…¶å®æ˜¯æµ…æ‹·è´è€Œä¸æ˜¯æ·±æ‹·è´**

ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæºå¯¹è±¡æŸä¸ªå±æ€§çš„å€¼æ˜¯å¯¹è±¡ï¼Œé‚£ä¹ˆç›®æ ‡å¯¹è±¡æ‹·è´å¾—åˆ°çš„æ˜¯è¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨ã€‚åŒåå±æ€§ä¼šæ›¿æ¢ã€‚

```js
const obj5 = {
ã€€ã€€name: 'dengke',
    a: 10,
ã€€ã€€fn: {
ã€€ã€€ã€€ã€€sum: 10
ã€€ã€€}
}

const obj6 = Object.assign(obj1, obj5)
console.log(obj6) // { a: 10, b: 2, name: 'dengke', fn: {â€¦}}
console.log(obj1) // {a: 10, b: 2, name: 'dengke', fn: {â€¦}} å¯¹åŒåå±æ€§aè¿›è¡Œäº†æ›¿æ¢
```

- `Object.assign`Â ä¸ä¼šåœ¨é‚£äº›`source`å¯¹è±¡å€¼ä¸ºnullæˆ–undefinedçš„æ—¶å€™æŠ›å‡ºé”™è¯¯ã€‚

### 2. Object.keys()

ä¸Šè¾¹æšä¸¾å¯¹è±¡å±æ€§æ—¶æœ‰ç”¨åˆ°äº†`Object.keys()`ï¼Œåœ¨è¿™é‡Œå°±å…·ä½“ä¸ºå¤§å®¶ä»‹ç»ä¸€ä¸‹å®ƒã€‚

**`Object.keys()`** æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªç”±ä¸€ä¸ªç»™å®šå¯¹è±¡çš„è‡ªèº«å¯æšä¸¾å±æ€§ç»„æˆçš„æ•°ç»„ï¼Œæ•°ç»„ä¸­å±æ€§åçš„æ’åˆ—é¡ºåºå’Œæ­£å¸¸å¾ªç¯éå†è¯¥å¯¹è±¡æ—¶è¿”å›çš„é¡ºåºä¸€è‡´ã€‚**ä¸`Object.values()`ç›¸ä¼¼ï¼ŒåŒºåˆ«åœ¨äºè¿™ä¸ªè¿”å›çš„æ˜¯æ•°æ®çš„å±æ€§å°±æ˜¯`key`ã€‚æ¥ä¸‹æ¥å°±ä¼šä»‹ç»`Object.values()`ï¼Œä¸è¦ç€æ€¥ã€‚ğŸ˜Š**

```js
const arr = ['a', 'b', 'c']
console.log(Object.keys(arr)) // ['0', '1', '2']

const obj = { 0: 'a', 1: 'b', 2: 'c' }
console.log(Object.keys(obj)) // ['0', '1', '2']

const obj2 = { 100: 'a', 2: 'b', 7: 'c' }
console.log(Object.keys(obj2)) // ['2', '7', '100']
```

**è¯­æ³•**

```js
Object.keys(obj)
```
- å‚æ•°ï¼š`obj`è¦è¿”å›å…¶æšä¸¾è‡ªèº«å±æ€§çš„å¯¹è±¡ã€‚

- è¿”å›å€¼ï¼šä¸€ä¸ªè¡¨ç¤ºç»™å®šå¯¹è±¡çš„æ‰€æœ‰å¯æšä¸¾å±æ€§çš„å­—ç¬¦ä¸²æ•°ç»„ã€‚

**æ³¨æ„**

- åœ¨ES5é‡Œï¼Œå¦‚æœæ­¤æ–¹æ³•çš„å‚æ•°ä¸æ˜¯å¯¹è±¡ï¼ˆè€Œæ˜¯ä¸€ä¸ªåŸå§‹å€¼ï¼‰ï¼Œé‚£ä¹ˆå®ƒä¼šæŠ›å‡ºÂ TypeErrorã€‚åœ¨ES2015ä¸­ï¼Œéå¯¹è±¡çš„å‚æ•°å°†è¢«å¼ºåˆ¶è½¬æ¢ä¸ºä¸€ä¸ªå¯¹è±¡ã€‚

```js
Object.keys("foo") // TypeError: "foo" is not an object       (ES5 code)

Object.keys("foo") // ["0", "1", "2"]                         (ES2015 code)
```

### 3. Object.values()

` Object.values()  `æ–¹æ³•è¿”å›ä¸€ä¸ªç»™å®šå¯¹è±¡è‡ªèº«çš„æ‰€æœ‰å¯æšä¸¾å±æ€§å€¼çš„æ•°ç»„ï¼Œå€¼çš„é¡ºåºä¸ä½¿ç”¨`for...in`å¾ªç¯çš„é¡ºåºç›¸åŒ ( åŒºåˆ«åœ¨äº for-in å¾ªç¯æšä¸¾åŸå‹é“¾ä¸­çš„å±æ€§ )ã€‚**ä¸`Object.keys()`ç›¸ä¼¼ï¼ŒåŒºåˆ«åœ¨äºè¿™ä¸ªè¿”å›çš„æ˜¯æ•°æ®çš„å€¼ä¹Ÿå°±æ˜¯`value`**

```js
const obj1 = { foo: 'bar', baz: 42 }
console.log(Object.values(obj1)) // ['bar', 42]

const obj2 = { 0: 'a', 1: 'b', 2: 'c' }
console.log(Object.values(obj2)) // ['a', 'b', 'c']
```

**è¯­æ³•**

```js
Object.values(obj)
```
- å‚æ•°ï¼š`obj`è¢«è¿”å›å¯æšä¸¾å±æ€§å€¼çš„å¯¹è±¡ã€‚

- è¿”å›å€¼ï¼šä¸€ä¸ªåŒ…å«å¯¹è±¡è‡ªèº«çš„æ‰€æœ‰å¯æšä¸¾å±æ€§å€¼çš„æ•°ç»„ã€‚

**æ³¨æ„**

- å¯¹è±¡`key`ä¸º`number`çš„è¯ï¼Œä¼šä»å‡åºæšä¸¾è¿”å›ã€‚

```js
const obj3 = { 100: 'a', 2: 'b', 7: 'c' }
console.log(Object.values(obj3)) // ['b', 'c', 'a']
```

### 4. Object.entries(obj)

**`Object.entries()`** æ–¹æ³•è¿”å›ä¸€ä¸ªç»™å®šå¯¹è±¡è‡ªèº«å¯æšä¸¾å±æ€§çš„é”®å€¼å¯¹æ•°ç»„ã€‚**å¯ä½¿ç”¨`Object.fromEntries()`æ–¹æ³•ï¼Œç›¸å½“äºåè½¬äº†`Object.entries()`æ–¹æ³•è¿”å›çš„æ•°æ®ç»“æ„ã€‚æ¥ä¸‹æ¥ä¹Ÿä¼šä»‹ç»`Object.fromEntries()`**

```js
const obj1 = {
  name: 'dengke',
  age: 18
};

for (const [key, value] of Object.entries(obj1)) {
  console.log(`${key}: ${value}`);
}
// "name: dengke"
// "age: 18"

const obj2 = { foo: 'bar', baz: 42 }
console.log(Object.entries(obj2)) // [ ['foo', 'bar'], ['baz', 42] ]

const obj3 = { 0: 'a', 1: 'b', 2: 'c' }
console.log(Object.entries(obj3)) // [ ['0', 'a'], ['1', 'b'], ['2', 'c'] ]

```
**è¯­æ³•**

```js
Object.entries(obj)
```

- å‚æ•°ï¼š`obj`å¯ä»¥è¿”å›å…¶å¯æšä¸¾å±æ€§çš„é”®å€¼å¯¹çš„å¯¹è±¡ã€‚

- è¿”å›å€¼ï¼šç»™å®šå¯¹è±¡è‡ªèº«å¯æšä¸¾å±æ€§çš„é”®å€¼å¯¹æ•°ç»„ã€‚

**è¡¥å……**

- å°†`Object`è½¬æ¢ä¸º`Map`ï¼Œ`new Map()`æ„é€ å‡½æ•°æ¥å—ä¸€ä¸ªå¯è¿­ä»£çš„`entries`ã€‚å€ŸåŠ©`Object.entries`æ–¹æ³•ä½ å¯ä»¥å¾ˆå®¹æ˜“çš„å°†`Object`è½¬æ¢ä¸º`Map`:

```js
const obj = { foo: "bar", baz: 42 }
const map = new Map(Object.entries(obj))
console.log(map) // Map { foo: "bar", baz: 42 }
```

### 5. Object.fromEntries()

**`Object.fromEntries()`** æ–¹æ³•æŠŠé”®å€¼å¯¹åˆ—è¡¨è½¬æ¢ä¸ºä¸€ä¸ªå¯¹è±¡ã€‚**ä¸`Object.entries()`ç›¸åã€‚ç›¸å½“äºåè½¬äº†`Object.entries()`æ–¹æ³•è¿”å›çš„æ•°æ®ç»“æ„ã€‚ï¼ˆä¸‹é¢è¡¥å……é‡Œæœ‰å…·ä½“çš„æ¼”ç¤ºï¼‰**

```js
const entries = new Map([
  ['foo', 'bar'],
  ['baz', 42]
]);

const obj = Object.fromEntries(entries);

console.log(obj);
// Object { foo: "bar", baz: 42 }
```

**è¯­æ³•**

```js
Object.fromEntries(iterable)
```
- å‚æ•°ï¼š`iterable`ç±»ä¼¼`Array`ã€`Map`æˆ–è€…å…¶å®ƒå®ç°äº†`å¯è¿­ä»£åè®®`çš„å¯è¿­ä»£å¯¹è±¡ã€‚

- è¿”å›å€¼ï¼šä¸€ä¸ªç”±è¯¥è¿­ä»£å¯¹è±¡æ¡ç›®æä¾›å¯¹åº”å±æ€§çš„æ–°å¯¹è±¡ã€‚

**è¡¥å……**

- `Map`Â è½¬åŒ–ä¸ºÂ `Object`

é€šè¿‡Â `Object.fromEntries`ï¼Œ å¯ä»¥å°†`Map`è½¬æ¢ä¸º`Object`:

```js
const map = new Map([ ['foo', 'bar'], ['baz', 42] ])
const obj = Object.fromEntries(map)
console.log(obj)
// { foo: "bar", baz: 42 }
```

- `Array`Â è½¬åŒ–ä¸ºÂ `Object`

é€šè¿‡Â `Object.fromEntries`ï¼Œ å¯ä»¥å°†`Array`è½¬æ¢ä¸º`Object`:

```js
const arr = [ ['0', 'a'], ['1', 'b'], ['2', 'c'] ]
const obj = Object.fromEntries(arr)
console.log(obj)
// { 0: "a", 1: "b", 2: "c" }
```

- å¯¹è±¡è½¬æ¢

`Object.fromEntries`Â æ˜¯ä¸Â `Object.entries()`ç›¸åçš„æ–¹æ³•ï¼Œç”¨ *æ•°ç»„å¤„ç†å‡½æ•°* å¯ä»¥åƒä¸‹é¢è¿™æ ·è½¬æ¢å¯¹è±¡ï¼š

```js
const object1 = { a: 1, b: 2, c: 3 }

const object2 = Object.fromEntries(
  Object.entries(object1)
  .map(([ key, val ]) => [ key, val * 2 ])
)

// Object.entries(object1) >>> [["a",1],["b",2],["c",3]]

console.log(object2) // { a: 2, b: 4, c: 6 }
```

### 6. prototype.hasOwnProperty()

ä¸Šè¾¹æšä¸¾å¯¹è±¡å±æ€§æ—¶ä¸ºäº†é¿å…`for..in`éå†ç»§æ‰¿æ¥çš„å±æ€§ï¼Œç»™å¤§å®¶è¡¥å……äº†å¯ä»¥å€ŸåŠ©`Object.prototype.hasOwnProperty()`æ–¹æ³•è¿›è¡Œåˆ¤æ–­ï¼Œåœ¨è¿™é‡Œä¹Ÿå…·ä½“ä¸ºå¤§å®¶ä»‹ç»ä¸€ä¸‹å®ƒã€‚

**`hasOwnProperty()`** æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼ŒæŒ‡ç¤ºå¯¹è±¡è‡ªèº«å±æ€§ä¸­æ˜¯å¦å…·æœ‰æŒ‡å®šçš„å±æ€§ï¼ˆä¹Ÿå°±æ˜¯ï¼Œæ˜¯å¦æœ‰æŒ‡å®šçš„é”®ï¼‰ã€‚

```js
const obj1 = {};
obj1.property1 = 42

console.log(obj1.hasOwnProperty('property1')) // true
console.log(obj1.hasOwnProperty('toString')) // false
console.log(obj1.hasOwnProperty('hasOwnProperty')) // false
```

**è¯­æ³•**

```js
obj.hasOwnProperty(prop)
```

- å‚æ•°ï¼š`prop` è¦æ£€æµ‹çš„å±æ€§çš„`String`å­—ç¬¦ä¸²å½¢å¼è¡¨ç¤ºçš„åç§°ï¼Œæˆ–è€…`Symbol`ã€‚

- è¿”å›å€¼ï¼šç”¨æ¥åˆ¤æ–­æŸä¸ªå¯¹è±¡æ˜¯å¦å«æœ‰æŒ‡å®šçš„å±æ€§çš„å¸ƒå°”å€¼`Boolean`ã€‚

**æ³¨æ„**

- åªä¼šå¯¹è‡ªèº«å±æ€§è¿›è¡Œåˆ¤æ–­ï¼Œç»§æ‰¿æ¥çš„ä¸€å¾‹è¿”å›`false`ã€‚é…åˆ`for...in`ä½¿ç”¨ï¼Œå¯ä»¥é¿å…å…¶éå†ç»§æ‰¿æ¥çš„å±æ€§ã€‚

```js
const o = new Object()
o.prop = 'exists'

console.log(o.hasOwnProperty('prop')) // true
console.log(o.hasOwnProperty('toString')) // false
console.log(o.hasOwnProperty('hasOwnProperty')) // false
```

- å³ä½¿å±æ€§çš„å€¼æ˜¯Â `null`Â æˆ–Â `undefined`ï¼Œåªè¦å±æ€§å­˜åœ¨ï¼Œ`hasOwnProperty`Â ä¾æ—§ä¼šè¿”å›Â `true`ã€‚

```js
const o = new Object();
o.propOne = null
o.propTwo = undefined

console.log(o.hasOwnProperty('propOne')) // true
console.log(o.hasOwnProperty('propTwo')) // true
```

### 7. getOwnPropertyNames()

ä¸Šè¾¹æšä¸¾å¯¹è±¡å±æ€§æ—¶ä¹Ÿæœ‰ç”¨åˆ°è¯¥æ–¹æ³•ï¼Œåœ¨è¿™é‡Œä¹Ÿå…·ä½“ä¸ºå¤§å®¶ä»‹ç»ä¸€ä¸‹å®ƒã€‚

**`Object.getOwnPropertyNames()`** è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œè¯¥æ•°ç»„å¯¹å…ƒç´ æ˜¯Â `obj`è‡ªèº«æ‹¥æœ‰çš„æšä¸¾æˆ–ä¸å¯æšä¸¾å±æ€§åç§°å­—ç¬¦ä¸²ã€‚Â æ•°ç»„ä¸­æšä¸¾å±æ€§çš„é¡ºåºä¸é€šè¿‡`for...in`å¾ªç¯`Object.keys`è¿­ä»£è¯¥å¯¹è±¡å±æ€§æ—¶ä¸€è‡´ã€‚æ•°ç»„ä¸­ä¸å¯æšä¸¾å±æ€§çš„é¡ºåºæœªå®šä¹‰ã€‚

```js
const arr = ["a", "b", "c"];
console.log(Object.getOwnPropertyNames(arr).sort()) // ["0", "1", "2", "length"]

// ç±»æ•°ç»„å¯¹è±¡
const obj = { 0: "a", 1: "b", 2: "c"};
console.log(Object.getOwnPropertyNames(obj).sort()) // ["0", "1", "2"]

// ä½¿ç”¨Array.forEachè¾“å‡ºå±æ€§åå’Œå±æ€§å€¼
Object.getOwnPropertyNames(obj).forEach(function(val, idx, array) {
  console.log(val + " -> " + obj[val]);
})
// 0 -> a
// 1 -> b
// 2 -> c

// ä¸å¯æšä¸¾å±æ€§
const my_obj = Object.create({}, {
  getFoo: {
    value: function() { return this.foo; },
    enumerable: false
  }
});
my_obj.foo = 1;

console.log(Object.getOwnPropertyNames(my_obj).sort())
// ["foo", "getFoo"]
```

**è¯­æ³•**

```js
obj.getOwnPropertyNames(obj)
```

-å‚æ•°ï¼š`obj`ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶è‡ªèº«çš„å¯æšä¸¾å’Œä¸å¯æšä¸¾å±æ€§çš„åç§°è¢«è¿”å›ã€‚

- è¿”å›å€¼ï¼šåœ¨ç»™å®šå¯¹è±¡ä¸Šæ‰¾åˆ°çš„è‡ªèº«å±æ€§å¯¹åº”çš„å­—ç¬¦ä¸²æ•°ç»„ã€‚

**è¡¥å……**

- `Object.getOwnPropertyNames`å’Œ`Object.keys`çš„åŒºåˆ«ï¼š`Object.keys`åªé€‚ç”¨äºå¯æšä¸¾çš„å±æ€§ï¼Œè€Œ`Object.getOwnPropertyNames`è¿”å›å¯¹è±¡çš„å…¨éƒ¨å±æ€§åç§°(åŒ…æ‹¬ä¸å¯æšä¸¾çš„)ã€‚

```js
'use strict'
(function () {
    // äººç±»çš„æ„é€ å‡½æ•°
    const person = function (name, age, sex) {
        this.name = name
        this.age = age
        this.sex = sex
        this.sing = () => {
            console.log('sing');
        }
    }

    // new ä¸€ä¸ªladygaga
    const gaga = new person('ladygaga', 26, 'girl')
    
    // ç»™å˜å˜å‘æ”¾ä¸€ä¸ªä¸å¯æšä¸¾çš„èº«ä»½è¯
    Object.defineProperty(gaga, 'id', {
        value: '1234567890',
        enumerable: false
    })

    //æŸ¥çœ‹gagaçš„ä¸ªäººä¿¡æ¯
    const arr = Object.getOwnPropertyNames(gaga)
    console.log(arr) // name, age, sex, sing, id
    
    // æ³¨æ„å’ŒgetOwnPropertyNamesçš„åŒºåˆ«ï¼Œä¸å¯æšä¸¾çš„idæ²¡æœ‰è¾“å‡º
    const arr1 = Object.keys(gaga)
    console.log(arr1) // name, age, sex, sing
})()
```

- å¦‚æœä½ åªè¦è·å–åˆ°å¯æšä¸¾å±æ€§ï¼Œå¯ä»¥ç”¨`Object.keys`æˆ–ç”¨`for...in`å¾ªç¯ï¼ˆ`for...in`ä¼šè·å–åˆ°åŸå‹é“¾ä¸Šçš„å¯æšä¸¾å±æ€§ï¼Œå¯ä»¥ä½¿ç”¨`hasOwnProperty()`æ–¹æ³•è¿‡æ»¤æ‰ï¼‰ã€‚

- è·å–ä¸å¯æšä¸¾çš„å±æ€§ï¼Œå¯ä»¥ä½¿ç”¨`Array.prototype.filter()`æ–¹æ³•ï¼Œä»æ‰€æœ‰çš„å±æ€§åæ•°ç»„ï¼ˆä½¿ç”¨`Object.getOwnPropertyNames()`æ–¹æ³•è·å¾—ï¼‰ä¸­å»é™¤å¯æšä¸¾çš„å±æ€§ï¼ˆä½¿ç”¨`Object.keys()`æ–¹æ³•è·å¾—ï¼‰ï¼Œå‰©ä½™çš„å±æ€§ä¾¿æ˜¯ä¸å¯æšä¸¾çš„å±æ€§äº†ï¼š

```js
const target = myObject;
const enum_and_nonenum = Object.getOwnPropertyNames(target);
const enum_only = Object.keys(target);
const nonenum_only = enum_and_nonenum.filter(function(key) {
    const indexInEnum = enum_only.indexOf(key);
    if (indexInEnum == -1) {
        // æ²¡æœ‰å‘ç°åœ¨enum_onlyå¥é›†ä¸­æ„å‘³ç€è¿™ä¸ªå¥æ˜¯ä¸å¯æšä¸¾çš„,
        // å› æ­¤è¿”å›true ä»¥ä¾¿è®©å®ƒä¿æŒåœ¨è¿‡æ»¤ç»“æœä¸­
        return true;
    } else {
        return false;
    }
});

console.log(nonenum_only);
```

**æ³¨æ„**

- åœ¨ ES5 ä¸­ï¼Œå¦‚æœå‚æ•°ä¸æ˜¯ä¸€ä¸ªåŸå§‹å¯¹è±¡ç±»å‹ï¼Œå°†æŠ›å‡ºä¸€ä¸ªÂ `TypeError`å¼‚å¸¸ã€‚åœ¨Â ES2015Â ä¸­ï¼Œéå¯¹è±¡å‚æ•°è¢«å¼ºåˆ¶è½¬æ¢ä¸ºå¯¹è±¡ã€‚

```js
Object.getOwnPropertyNames('foo') // TypeError: "foo" is not an object     (ES5 code)

Object.getOwnPropertyNames('foo') // ['length', '0', '1', '2']             (ES2015 code)
```

### 8. Object.freeze()

**`Object.freeze()`** Â æ–¹æ³•å¯ä»¥**å†»ç»“**ä¸€ä¸ªå¯¹è±¡ã€‚ä¸€ä¸ªè¢«å†»ç»“çš„å¯¹è±¡å†ä¹Ÿä¸èƒ½è¢«ä¿®æ”¹ï¼›å†»ç»“äº†ä¸€ä¸ªå¯¹è±¡åˆ™ä¸èƒ½å‘è¿™ä¸ªå¯¹è±¡æ·»åŠ æ–°çš„å±æ€§ï¼Œä¸èƒ½åˆ é™¤å·²æœ‰å±æ€§ï¼Œä¸èƒ½ä¿®æ”¹è¯¥å¯¹è±¡å·²æœ‰å±æ€§çš„å¯æšä¸¾æ€§ã€å¯é…ç½®æ€§ã€å¯å†™æ€§ï¼Œä»¥åŠä¸èƒ½ä¿®æ”¹å·²æœ‰å±æ€§çš„å€¼ã€‚æ­¤å¤–ï¼Œå†»ç»“ä¸€ä¸ªå¯¹è±¡åè¯¥å¯¹è±¡çš„åŸå‹ä¹Ÿä¸èƒ½è¢«ä¿®æ”¹ã€‚`freeze()`Â è¿”å›å’Œä¼ å…¥çš„å‚æ•°ç›¸åŒçš„å¯¹è±¡ã€‚

```js
const obj = {
  prop: 42
}

Object.freeze(obj)

obj.prop = 33

console.log(obj.prop)
//  42
```

**è¯­æ³•**

```js
obj.freeze(obj)
```

- å‚æ•°ï¼š`obj`è¦è¢«å†»ç»“çš„å¯¹è±¡ã€‚

- è¿”å›å€¼ï¼šè¢«å†»ç»“çš„å¯¹è±¡ã€‚

**è¡¥å……**

- è¢«å†»ç»“çš„å¯¹è±¡æ˜¯ä¸å¯å˜çš„ã€‚ä½†ä¹Ÿä¸æ€»æ˜¯è¿™æ ·ã€‚ä¸‹ä¾‹å±•ç¤ºäº†å†»ç»“å¯¹è±¡ä¸æ˜¯å¸¸é‡å¯¹è±¡ï¼ˆæµ…å†»ç»“ï¼‰ã€‚

```js
const obj1 = {
  internal: {}
}
Object.freeze(obj1)

obj1.internal.a = 'aValue'
console.log(obj1.internal.a) // 'aValue'
```

- è¦ä½¿å¯¹è±¡ä¸å¯å˜ï¼Œéœ€è¦é€’å½’å†»ç»“æ¯ä¸ªç±»å‹ä¸ºå¯¹è±¡çš„å±æ€§ï¼ˆæ·±å†»ç»“ï¼‰ã€‚

```js
// æ·±å†»ç»“å‡½æ•°.
function deepFreeze(obj) {
  // å–å›å®šä¹‰åœ¨objä¸Šçš„å±æ€§å
  const propNames = Object.getOwnPropertyNames(obj)

  // åœ¨å†»ç»“è‡ªèº«ä¹‹å‰å†»ç»“å±æ€§
  propNames.forEach(function(name) {
    const prop = obj[name]

    // å¦‚æœpropæ˜¯ä¸ªå¯¹è±¡ï¼Œå†»ç»“å®ƒ
    if (typeof prop == 'object' && prop !== null)
      deepFreeze(prop)
  })

  // å†»ç»“è‡ªèº«
  return Object.freeze(obj);
}

const obj2 = {
  internal: {}
}

deepFreeze(obj2)
obj2.internal.a = 'anotherValue'
obj2.internal.a // undefined
```

### 9. Object.isFrozen()

**`Object.isFrozen()`** æ–¹æ³•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦è¢«`å†»ç»“`ã€‚

```js
// ä¸€ä¸ªå¯¹è±¡é»˜è®¤æ˜¯å¯æ‰©å±•çš„, æ‰€ä»¥å®ƒä¹Ÿæ˜¯éå†»ç»“çš„ã€‚
Object.isFrozen({}) // false

// ä¸€ä¸ªä¸å¯æ‰©å±•çš„ç©ºå¯¹è±¡åŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªå†»ç»“å¯¹è±¡ã€‚
var vacuouslyFrozen = Object.preventExtensions({})
Object.isFrozen(vacuouslyFrozen) // true

var frozen = { 1: 81 }
Object.isFrozen(frozen) // false

// ä½¿ç”¨Object.freezeæ˜¯å†»ç»“ä¸€ä¸ªå¯¹è±¡æœ€æ–¹ä¾¿çš„æ–¹æ³•.
Object.freeze(frozen)
Object.isFrozen(frozen) // true
```

**è¯­æ³•**

```js
obj.isFrozen(obj)
```

- å‚æ•°ï¼š`obj`è¢«æ£€æµ‹çš„å¯¹è±¡ã€‚

- è¿”å›å€¼ï¼šè¡¨ç¤ºç»™å®šå¯¹è±¡æ˜¯å¦è¢«å†»ç»“çš„`Boolean`ã€‚

**æ³¨æ„**

- åœ¨ ES5 ä¸­ï¼Œå¦‚æœå‚æ•°ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ç±»å‹ï¼Œå°†æŠ›å‡ºä¸€ä¸ª`TypeError`å¼‚å¸¸ã€‚åœ¨ ES2015 ä¸­ï¼Œéå¯¹è±¡å‚æ•°å°†è¢«è§†ä¸ºä¸€ä¸ªå†»ç»“çš„æ™®é€šå¯¹è±¡ï¼Œå› æ­¤ä¼šè¿”å›`true`ã€‚

```js
Object.isFrozen(1) // (ES5 code)
// TypeError: 1 is not an object 

Object.isFrozen(1) // (ES2015 code)
// true   
```